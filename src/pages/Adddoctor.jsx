import React, { useEffect, useState } from "react"; import "./Adddoctor.css"; import NavbarAdmin from "../components/NavbarAdmin"; // assuming this exists function Adddoctor() { const [doctors, setDoctors] = useState([]); const [newDoctor, setNewDoctor] = useState({ doctorName: "", qualification: "", specialization: "", timings: "", experience: "", email: "", password: "" }); // Fetch doctors useEffect(() => { fetch("http://172.30.106.15:8090/doctor/getalldocs") .then((res) => res.json()) .then((data) => setDoctors(data)) .catch((err) => console.error("Error fetching doctors:", err)); }, []); // Placeholder for add doctor const handleAddDoctor = (e) => { fetch("http://172.30.106.15:8090/doctor/addnewdoc",{ methos:"POST", headers:{"content-type":"application/json"}, body:JSON.stringify(newDoctor) }).then(res=>res.json()) // 👉 You will implement fetch POST here later // Reset form setNewDoctor({ doctorName: "", qualification: "", specialization: "", timings: "", experience: "", email: "", password: "" }); }; // Placeholder for remove doctor const handleRemoveDoctor = (doctorId) => { console.log("Remove doctor:", doctorId); // 👉 You will implement fetch DELETE here later }; return ( <> <NavbarAdmin /> {/* 🔹 Add Doctor Form */} <div className="add-doctor-form"> <h2>Add New Doctor</h2> <form onSubmit={handleAddDoctor}> <input type="text" placeholder="Name" value={newDoctor.doctorName} onChange={(e) => setNewDoctor({ ...newDoctor, doctorName: e.target.value })} required /> <input type="text" placeholder="Qualification" value={newDoctor.qualification} onChange={(e) => setNewDoctor({ ...newDoctor, qualification: e.target.value })} required /> <input type="text" placeholder="Specialization" value={newDoctor.specialization} onChange={(e) => setNewDoctor({ ...newDoctor, specialization: e.target.value })} required /> <input type="text" placeholder="Timings" value={newDoctor.timings} onChange={(e) => setNewDoctor({ ...newDoctor, timings: e.target.value })} required /> <input type="number" placeholder="Experience (years)" value={newDoctor.experience} onChange={(e) => setNewDoctor({ ...newDoctor, experience: e.target.value })} required /> <input type="email" placeholder="Email" value={newDoctor.email} onChange={(e) => setNewDoctor({ ...newDoctor, email: e.target.value })} required /> <input type="password" placeholder="Password" value={newDoctor.password} onChange={(e) => setNewDoctor({ ...newDoctor, password: e.target.value })} required /> <button type="submit">➕ Add Doctor</button> </form> </div> {/* 🔹 Doctor Table */} <div className="doctor-container"> <h1 className="doctor-heading">👨‍⚕️ Doctors List</h1> <div className="doctor-table-wrapper"> <table className="doctor-table"> <thead> <tr> <th>ID</th> <th>Name</th> <th>Qualification</th> <th>Specialization</th> <th>Timings</th> <th>Experience</th> <th>Email</th> <th>Action</th> </tr> </thead> <tbody> {doctors.map((doc, index) => ( <tr key={doc.doctorId} className="fade-in" style={{ animationDelay: ${index * 0.1}s }} > <td>{doc.doctorId}</td> <td>{doc.doctorName}</td> <td>{doc.qualification}</td> <td>{doc.specialization}</td> <td>{doc.timings}</td> <td>{doc.experience} yrs</td> <td>{doc.email}</td> <td> <button className="remove-btn" onClick={() => handleRemoveDoctor(doc.doctorId)} > ❌ Remove </button> </td> </tr> ))} </tbody> </table> </div> </div> </> ); } export default Adddoctor;